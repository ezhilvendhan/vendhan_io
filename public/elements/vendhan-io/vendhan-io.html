<!-- import polymer -->
<link rel="import" href="../../bower_components/polymer/polymer.html">

<!-- import page level css -->
<link rel="import" href="vendhan-io-styles.html">

<!-- app route -->
<link rel="import" href="../../bower_components/app-route/app-location.html">
<link rel="import" href="../../bower_components/app-route/app-route.html">

<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">

<link rel="import" href="../app-view/app-view.html">

<dom-module id="vendhan-io">
  <template>
    <iron-ajax auto url="/api/posts" handle-as="json" on-response="_listPosts"></iron-ajax>

    <style include="vendhan-io-styles"></style>

    <div class="viewport">
      <div class="content-wrapper">

        <main role="main">
          <!-- app-location captures url and assigns _route value -->
          <app-location
            id="carbonLocation"
            route="{{_route}}"
            use-hash-as-path>
          </app-location>

          <app-route
            route="{{_route}}"
            pattern="/home"
            update-nav-route
            use-hash-as-path
            active="{{homeActive}}">
          </app-route>
          <app-view id="homeView"
            active="{{homeActive}}"
            element-href="/elements/views/home/home-view.html" element-data=[[posts]]
            load-async="true">
          </app-view>

          <app-route
            route="{{_route}}"
            pattern="/posts/:postId"
            update-nav-route
            use-hash-as-path
            active="{{postActive}}">
          </app-route>
          <app-view id="postView"
            active="{{postActive}}"
            element-href="/elements/views/post/post-view.html"
            load-async="true">
          </app-view>

          <app-route
            route="{{_route}}"
            pattern="/actions/ic1"
            update-nav-route
            use-hash-as-path
            active="{{ic1Active}}">
          </app-route>
          <app-view id="ic1View"
            active="{{ic1Active}}"
            element-href="/elements/views/image-classifier-1/image-classifier-1.html"
            load-async="true">
          </app-view>

        </main>

      </div>
    </div>
  </template>
  <script src="vendhan-io.es5.js">
  </script>
</dom-module>
